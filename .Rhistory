install.packages("Lahman")
require(Lahman)
require(dplyr)
require(ggplot2)
install.packages("ggplot2")
n
require(Lahman)
require(dplyr)
require(ggplot2)
LahmanData
head(Teams)
mydata <- Teams %>% select(yearID, lgID, teamID, W,L,R,RA) %>%
filter(yearID==2014,lgID=="AL")
mydata
View(mydata)
mydata <- Teams %>% select(yearID, lgID, teamID, W,L,R,RA) %>%
filter(yearID==2014,lgID=="AL") %>%
mutate(wpct=R/(R+RA))
View(mydata)
mydata <- Teams %>% select(yearID, lgID, teamID, W,L,R,RA) %>%
filter(yearID==2014,lgID=="AL") %>%
mutate(wpct=R/(R+RA),expwin=wpct*(W+L))
head(mydata)
mydata <- Teams %>% select(yearID, lgID, teamID, W,L,R,RA) %>%
filter(yearID==2014,lgID=="AL") %>%
mutate(wpct=R/(R+RA),expwin=round(wpct*(W+L)))
head(mydata)
mydata <- Teams %>% select(yearID, lgID, teamID, W,L,R,RA) %>%
filter(yearID==2014,lgID=="AL") %>%
mutate(wpct=R/(R+RA),expwin=round(wpct*(W+L)),diff=W-expwin)
View(mydata)
mydata <- Teams %>% select(yearID, lgID, teamID, W,L,R,RA) %>%
filter(yearID==2014,lgID=="AL") %>%
mutate(wpct=R/(R+RA),expwin=round(wpct*(W+L)),diff=W-expwin)
ggplot(mydata,aes(expwin,W)) + geom_point() + stat_smooth(method = "lm")
mydata <- Teams %>% select(yearID, lgID, teamID, W,L,R,RA) %>%
filter(yearID==2014,lgID=="AL") %>%
mutate(wpct=R^2/(R^2+RA^2),expwin=round(wpct*(W+L)),diff=W-expwin)
ggplot(mydata,aes(expwin,W)) + geom_point() + stat_smooth(method = "lm")
mydata <- Teams %>% select(yearID, lgID, teamID, W,L,R,RA) %>%
filter(yearID==2014,lgID=="AL") %>%
mutate(wpct=R^2/(R^2+RA^2),old_wpct=R/(R+RA),expwin=round(wpct*(W+L)),diff=W-expwin)
ggplot(mydata,aes(expwin,W)) + geom_point() + stat_smooth(method = "lm")
mod <- lm(W-expwin,data = mydata)
mod <- lm(W~expwin,data = mydata)
mod
View(mydata)
mydata <- Teams %>% select(yearID, lgID, teamID, W,L,R,RA) %>%
filter(yearID==2016,lgID=="AL") %>%
mutate(wpct=R^2/(R^2+RA^2),expwin=round(wpct*(W+L)),diff=W-expwin)
ggplot(mydata,aes(expwin,W)) + geom_point() + stat_smooth(method = "lm")
View(mydata)
mydata <- Teams %>% select(yearID, lgID, teamID, W,L,R,RA) %>%
filter(yearID==2017,lgID=="AL") %>%
mutate(wpct=R^2/(R^2+RA^2),expwin=round(wpct*(W+L)),diff=W-expwin)
ggplot(mydata,aes(expwin,W)) + geom_point() + stat_smooth(method = "lm")
mydata <- Teams %>% select(yearID, lgID, teamID, W,L,R,RA) %>%
filter(yearID==2016,lgID=="AL") %>%
mutate(wpct=R^2/(R^2+RA^2),expwin=round(wpct*(W+L)),diff=W-expwin)
ggplot(mydata,aes(expwin,W)) + geom_point() + stat_smooth(method = "lm")
library("ggplot2")
setwd("/home/dgvigi")
setwd("/home/dgvigi/Projects/sabermetrics/learn_sabermetrics_python_r")
altuve2016 <- read.csv("Altuve-2016-hitting.csv", header = TRUE, sep = ',')
altuve2016.head()
head(altuve2016)
hits <- altuve2016_all[altuve2016_all$type == 'H']
head(hits)
library("ggplot2")
altuve2016_all <- read.csv("Altuve-2016-hitting.csv", header = TRUE, sep = ',')
hits <- altuve2016_all[altuve2016_all$type == 'H']
head(hits)
hits <- altuve2016_all[altuve2016_all$type == 'H']
head(altuve2016_all)
library(ggplot2)
library(dplyr)
altuve2016_all <- read.csv("Altuve-2016-hitting.csv", header = TRUE, sep = ',')
head(altuve2016_all)
hits <- filter(altuve2016_all, type == 'H')
head(hits)
ggplot()+
geom_point(data=hits,aes(x=x,y=y)) +
coord_equal()+
scale_x_continuous(breaks = NULL,name="") +
scale_y_reverse(breaks = NULL,name="")
hits$type<-factor(hits$type,levels = c("Single","Double", "Triple","Home Run"))
ggplot()+
geom_point(data=hits,aes(x=x,y=y)) +
coord_equal()+
scale_x_continuous(breaks = NULL,name="") +
scale_y_reverse(breaks = NULL,name="")
ggplot()+
geom_point(data=hits,aes(x=x,y=y)) +
coord_equal()+
scale_x_continuous(breaks = NULL,name="") +
scale_y_reverse(breaks = NULL,name="") +
scale_size_manual(values = c(2,4,6,10)) +
scale_color_manual(values = c("red","green","blue","purple"))
library(ggplot2)
library(dplyr)
altuve2016_all <- read.csv("Altuve-2016-hitting.csv", header = TRUE, sep = ',')
head(altuve2016_all)
hits <- filter(altuve2016_all, type == 'H')
head(hits)
hits$type<-factor(hits$type,levels = c("Single","Double", "Triple","Home Run"))
ggplot()+
geom_point(data=hits,aes(x=x,y=y,color=type,shape=type,size=type)) +
coord_equal()+
scale_x_continuous(breaks = NULL,name="") +
scale_y_reverse(breaks = NULL,name="") +
scale_size_manual(values = c(2,4,6,10)) +
scale_color_manual(values = c("red","green","blue","purple"))
ggplot()+
geom_point(data=hits,aes(x=x,y=y,color=type,shape=type,size=type)) +
coord_equal()+
scale_x_continuous(breaks = NULL,name="") +
scale_y_reverse(breaks = NULL,name="") +
scale_size_manual(values = c(2,4,6,10)) +
scale_color_manual(values = c("red","green","blue","purple"))
ggplot()+
geom_point(data=hits,aes(x=x,y=y,color=type,shape=type,size=type)) +
coord_equal()+
scale_x_continuous(breaks = NULL,name="") +
scale_y_reverse(breaks = NULL,name="") +
scale_size_manual(values = c(2,4,6,10))
ggplot()+
geom_point(data=hits,aes(x=x,y=y,color=type,shape=type,size=type))
ggplot()+
geom_point(data=hits,aes(x=x,y=y,color=des,shape=des,size=des)) +
coord_equal()+
scale_x_continuous(breaks = NULL,name="") +
scale_y_reverse(breaks = NULL,name="") +
scale_size_manual(values = c(2,4,6,10)) +
scale_color_manual(values = c("red","green","blue","purple")
)
ggplot()+
geom_point(data=hits,aes(x=x,y=y,color=des,size=des)) +
coord_equal()+
scale_x_continuous(breaks = NULL,name="") +
scale_y_reverse(breaks = NULL,name="") +
scale_size_manual(values = c(2,4,6,10)) +
scale_color_manual(values = c("red","green","blue","purple"))
ggplot()+
geom_point(data=hits,aes(x=x,y=y,color=des)) +
coord_equal()+
scale_x_continuous(breaks = NULL,name="") +
scale_y_reverse(breaks = NULL,name="") +
scale_size_manual(values = c(2,4,6,10)) +
scale_color_manual(values = c("red","green","blue","purp
le"))
ggplot()+
geom_point(data=hits,aes(x=x,y=y,color=des)) +
coord_equal()+
scale_x_continuous(breaks = NULL,name="") +
scale_y_reverse(breaks = NULL,name="") +
scale_size_manual(values = c(2,4,6,10)) +
scale_color_manual(values = c("red","green","blue","purple"))
length(hits)
summary(hits)
dim(hits)
View(altuve2016)
